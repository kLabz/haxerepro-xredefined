- echo "Trigger X redefined from X"
- echo "----------------------------------------------------"
- root "/git/haxe-libs/haxeserver/repro/xredefined"

- start

# Comment this out when working with vshaxe cache view, since it's doing the
# cache build on its own:
> displayRequest "cache build"
["--no-output","--each","--no-output","build.hxml"]

> displayRequest "server/invalidate"
["--times","-D","macro-times","--display","{\"jsonrpc\":\"2.0\",\"id\":4,\"method\":\"server/invalidate\",\"params\":{\"file\":\"/git/haxe-libs/haxeserver/repro/xredefined/src/CodeBuilder.macro.hx\"}}"]

- echo "data.args.|"
> displayRequest "display/completion"
["--cwd","/git/haxe-libs/haxeserver/repro/xredefined","-D","display-details","--no-output","--times","-D","macro-times","build.hxml","--display","{\"jsonrpc\":\"2.0\",\"id\":36,\"method\":\"display/completion\",\"params\":{\"file\":\"/git/haxe-libs/haxeserver/repro/xredefined/src/CodeBuilder.macro.hx\",\"contents\":\"class CodeBuilder {\\n    var data:FunctionData;\\n\\n    public function new(data:FunctionData) {\\n        this.data = data;\\n    }\\n\\n    public function build():Void {\\n\\t\\tdata.args.\\n    }\\n\\n}\\n\\n@:structInit class FunctionData {\\n\\tpublic final args:Array<String>;\\n}\\n\",\"offset\":173,\"wasAutoTriggered\":true,\"meta\":[\":deprecated\"]}}"]

- echo "data.args.|"
> displayRequest "display/completion"
["--cwd","/git/haxe-libs/haxeserver/repro/xredefined","-D","display-details","--no-output","--times","-D","macro-times","build.hxml","--display","{\"jsonrpc\":\"2.0\",\"id\":36,\"method\":\"display/completion\",\"params\":{\"file\":\"/git/haxe-libs/haxeserver/repro/xredefined/src/CodeBuilder.macro.hx\",\"contents\":\"class CodeBuilder {\\n    var data:FunctionData;\\n\\n    public function new(data:FunctionData) {\\n        this.data = data;\\n    }\\n\\n    public function build():Void {\\n\\t\\tdata.args.\\n    }\\n\\n}\\n\\n@:structInit class FunctionData {\\n\\tpublic final args:Array<String>;\\n}\\n\",\"offset\":173,\"wasAutoTriggered\":true,\"meta\":[\":deprecated\"]}}"]

- echo "data.args.|"
> displayRequest "display/completion"
["--cwd","/git/haxe-libs/haxeserver/repro/xredefined","-D","display-details","--no-output","--times","-D","macro-times","build.hxml","--display","{\"jsonrpc\":\"2.0\",\"id\":36,\"method\":\"display/completion\",\"params\":{\"file\":\"/git/haxe-libs/haxeserver/repro/xredefined/src/CodeBuilder.macro.hx\",\"contents\":\"class CodeBuilder {\\n    var data:FunctionData;\\n\\n    public function new(data:FunctionData) {\\n        this.data = data;\\n    }\\n\\n    public function build():Void {\\n\\t\\tdata.args.\\n    }\\n\\n}\\n\\n@:structInit class FunctionData {\\n\\tpublic final args:Array<String>;\\n}\\n\",\"offset\":173,\"wasAutoTriggered\":true,\"meta\":[\":deprecated\"]}}"]

> displayRequest "compilation"
["build.hxml"]
